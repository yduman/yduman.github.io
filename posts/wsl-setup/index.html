<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  How to setup WSL with Windows Terminal, ZSH and powerlevel10k Â· Yadullah Duman
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Yadullah Duman">
<meta name="description" content="WSL, Windows Terminal, ZSH and powerlevel10k">
<meta name="keywords" content="blog,developer,personal">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="How to setup WSL with Windows Terminal, ZSH and powerlevel10k">
  <meta name="twitter:description" content="WSL, Windows Terminal, ZSH and powerlevel10k">

<meta property="og:url" content="www.yduman.dev/posts/wsl-setup/">
  <meta property="og:site_name" content="Yadullah Duman">
  <meta property="og:title" content="How to setup WSL with Windows Terminal, ZSH and powerlevel10k">
  <meta property="og:description" content="WSL, Windows Terminal, ZSH and powerlevel10k">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-06-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-06-12T00:00:00+00:00">
    <meta property="article:tag" content="Windows">
    <meta property="article:tag" content="Tools">
    <meta property="article:tag" content="Dev-Setup">




<link rel="canonical" href="www.yduman.dev/posts/wsl-setup/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="www.yduman.dev/css/coder.min.38c4552ac40f9ae3408bad40358f654ebd8804412fe74ed56f2d6c8a7af82dd3.css" integrity="sha256-OMRVKsQPmuNAi61ANY9lTr2IBEEv507Vby1sinr4LdM=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="www.yduman.dev/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="www.yduman.dev/">
      Yadullah Duman
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/www.yduman.dev/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/www.yduman.dev/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/www.yduman.dev/uses/">Uses</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/www.yduman.dev/projects/">Projects</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="www.yduman.dev/posts/wsl-setup/">
              How to setup WSL with Windows Terminal, ZSH and powerlevel10k
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-06-12T00:00:00Z">
                June 12, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              4-minute read
            </span>
          </div>
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="www.yduman.dev/authors/yadullah-duman/">Yadullah Duman</a></div>

          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="www.yduman.dev/categories/tools/">Tools</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="www.yduman.dev/tags/windows/">Windows</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="www.yduman.dev/tags/tools/">Tools</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="www.yduman.dev/tags/dev-setup/">Dev-Setup</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>I wanted to share with you my recent WSL2 setup on my new workstation which was ridiculously easy to do!</p>
<h2 id="what-i-wanted">
  <strong>What I wanted</strong>
  <a class="heading-link" href="#what-i-wanted">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Basically I wanted the same setup that I would run on my MacBook and my Linux machines:</p>
<ul>
<li>A configurable terminal similar toÂ <a href="https://www.iterm2.com/"  class="external-link" target="_blank" rel="noopener">iTerm2</a>Â orÂ <a href="https://gnunn1.github.io/tilix-web/"  class="external-link" target="_blank" rel="noopener">Tilix</a></li>
<li>ZSH shell withÂ <a href="https://ohmyz.sh/"  class="external-link" target="_blank" rel="noopener">oh-my-zsh</a></li>
<li><a href="https://github.com/romkatv/powerlevel10k"  class="external-link" target="_blank" rel="noopener">Powerlevel10k</a>Â theme</li>
<li>Docker and VS Code support</li>
</ul>
<h2 id="what-you-can-expect">
  <strong>What you can expect</strong>
  <a class="heading-link" href="#what-you-can-expect">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>In the following, I will guide you step by step on how I did my setup. A ZSH shell running inside Windows Terminal with powerlevel10k, syntax highlighting, automatic suggestions and Docker support.</p>
<h2 id="prerequisites">
  <strong>Prerequisites</strong>
  <a class="heading-link" href="#prerequisites">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>You will need the Windows 2004 update and you have to enable virtualization on your BIOS.</p>
<h2 id="step-1-install-wsl2">
  <strong>Step 1: Install WSL2</strong>
  <a class="heading-link" href="#step-1-install-wsl2">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Basically, you have to followÂ <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10"  class="external-link" target="_blank" rel="noopener">these</a>Â steps from the Microsoft Docs</li>
<li>Here are the necessary steps, if you have a fresh installation of Windows 2004:</li>
</ul>
<p>Open PowerShell as Administrator and run the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># Install WSL</span>
</span></span><span style="display:flex;"><span>dism.<span style="color:#79c0ff">exe</span> /online /enable-feature /featurename<span style="color:#f85149">:</span>Microsoft-Windows-Subsystem-Linux /all /norestart
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># Enable Virtual Machine Platform</span>
</span></span><span style="display:flex;"><span>dism.<span style="color:#79c0ff">exe</span> /online /enable-feature /featurename<span style="color:#f85149">:</span>VirtualMachinePlatform /all /norestart
</span></span></code></pre></div><p>After these two commands, restart your machine and run the next command to set WSL2 as your default version:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># Use WSL2 per default</span>
</span></span><span style="display:flex;"><span>wsl --set-default-version <span style="color:#a5d6ff">2</span>
</span></span></code></pre></div><h2 id="step-2-install-a-linux-distribution-and-windows-terminal">
  <strong>Step 2: Install a Linux Distribution and Windows Terminal</strong>
  <a class="heading-link" href="#step-2-install-a-linux-distribution-and-windows-terminal">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Visit the Windows Store and install your desired Linux distribution and Windows Terminal. I chose the latest LTS version of Ubuntu for example, which is currently Ubuntu 20.04</li>
<li>After installing your distribution you have to launch it and it will ask you for a username and password</li>
</ul>
<h2 id="step-3-configure-windows-terminal">
  <strong>Step 3: Configure Windows Terminal</strong>
  <a class="heading-link" href="#step-3-configure-windows-terminal">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li>Open Windows Terminal and open the settings with theÂ <code>Ctrl + ,</code>Â shortcut. You should see the fileÂ <code>settings.json</code></li>
<li>I wanted WSL2 to be my main profile. You can achieve this by copying theÂ <code>guid</code>Â value of your Linux distribution intoÂ <code>defaultProfile</code></li>
<li>After that I wanted a better colorscheme than the default one. There are some pre-defined ones that you can select fromÂ <a href="https://docs.microsoft.com/en-US/windows/terminal/customize-settings/color-schemes"  class="external-link" target="_blank" rel="noopener">here</a></li>
<li>The colorscheme on the screenshot is calledÂ <code>One Half Dark</code>. To add a colorscheme, expand the profile configuration of your distribution with the keyÂ <code>colorScheme</code>Â and the value of the theme name as a string</li>
<li>Next thing for me was to change the starting directory to my Linux home directory. For that, expand the profile object withÂ <code>&quot;commandline&quot;: &quot;wsl.exe ~&quot;</code></li>
<li>Lastly, since I wanted to use Powerlevel10k, I had to install theirÂ <a href="https://github.com/romkatv/powerlevel10k#meslo-nerd-font-patched-for-powerlevel10k"  class="external-link" target="_blank" rel="noopener">recommended</a>Â fontÂ <code>MesloLGS NF</code>. After installing, expand your profile object withÂ <code>&quot;fontFace&quot;: &quot;MesloLGS NF&quot;</code></li>
</ul>
<p>Ultimately, you should have an object similar to this:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#7ee787">&#34;guid&#34;</span>: <span style="color:#a5d6ff">&#34;{some-value}&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#7ee787">&#34;hidden&#34;</span>: <span style="color:#79c0ff">false</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#7ee787">&#34;name&#34;</span>: <span style="color:#a5d6ff">&#34;Ubuntu-20.04&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#7ee787">&#34;source&#34;</span>: <span style="color:#a5d6ff">&#34;Windows.Terminal.Wsl&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#7ee787">&#34;colorScheme&#34;</span>: <span style="color:#a5d6ff">&#34;One Half Dark&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#7ee787">&#34;fontFace&#34;</span>: <span style="color:#a5d6ff">&#34;MesloLGS NF&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#7ee787">&#34;commandline&#34;</span>: <span style="color:#a5d6ff">&#34;wsl.exe ~&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="step-4-install-oh-my-zsh">
  <strong>Step 4: Install oh-my-zsh</strong>
  <a class="heading-link" href="#step-4-install-oh-my-zsh">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo apt install zsh
</span></span><span style="display:flex;"><span>$ sh -c <span style="color:#a5d6ff">&#34;</span><span style="color:#ff7b72">$(</span>curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span style="color:#ff7b72">)</span><span style="color:#a5d6ff">&#34;</span>
</span></span></code></pre></div><p>You may want to restart Windows Terminal for a new session.</p>
<h2 id="step-5-install-useful-plugins-and-configure-zsh">
  <strong>Step 5: Install useful plugins and configure ZSH</strong>
  <a class="heading-link" href="#step-5-install-useful-plugins-and-configure-zsh">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<ul>
<li><a href="https://github.com/zsh-users/zsh-autosuggestions"  class="external-link" target="_blank" rel="noopener">zsh-autosuggestions</a></li>
<li><a href="https://github.com/zsh-users/zsh-syntax-highlighting"  class="external-link" target="_blank" rel="noopener">zsh-syntax-highlighting</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ git clone https://github.com/zsh-users/zsh-autosuggestions <span style="color:#a5d6ff">${</span><span style="color:#79c0ff">ZSH_CUSTOM</span><span style="color:#ff7b72">:-</span>~/.oh-my-zsh/custom<span style="color:#a5d6ff">}</span>/plugins/zsh-autosuggestions
</span></span><span style="display:flex;"><span>$ git clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span style="color:#a5d6ff">${</span><span style="color:#79c0ff">ZSH_CUSTOM</span><span style="color:#ff7b72">:-</span>~/.oh-my-zsh/custom<span style="color:#a5d6ff">}</span>/plugins/zsh-syntax-highlighting
</span></span><span style="display:flex;"><span>$ git clone --depth<span style="color:#ff7b72;font-weight:bold">=</span><span style="color:#a5d6ff">1</span> https://github.com/romkatv/powerlevel10k.git <span style="color:#a5d6ff">${</span><span style="color:#79c0ff">ZSH_CUSTOM</span><span style="color:#ff7b72">:-</span>~/.oh-my-zsh/custom<span style="color:#a5d6ff">}</span>/themes/powerlevel10k
</span></span></code></pre></div><p>OpenÂ <code>~/.zshrc</code>Â and modify its content like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span># Use Powerlevel10k theme
</span></span><span style="display:flex;"><span>ZSH_THEME=&#34;powerlevel10k/powerlevel10k&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Use plugins
</span></span><span style="display:flex;"><span>plugins=(docker zsh-autosuggestions zsh-syntax-highlighting)
</span></span></code></pre></div><p>After setting the theme, the Powerlevel10k wizard should show up, which will guide you through the setup. More aboutÂ <a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins"  class="external-link" target="_blank" rel="noopener">oh-my-zsh plugins</a>Â andÂ <a href="https://github.com/romkatv/powerlevel10k#configuration"  class="external-link" target="_blank" rel="noopener">Powerlevel10k configuration</a>.</p>
<h2 id="step-6-docker-and-vs-code">
  <strong>Step 6: Docker and VS Code</strong>
  <a class="heading-link" href="#step-6-docker-and-vs-code">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Docker also supports Windows Home since the 2004 update! Follow their guidelineÂ <a href="https://docs.docker.com/docker-for-windows/install-windows-home/"  class="external-link" target="_blank" rel="noopener">Install Docker Desktop on Windows Home</a>. After the installation Docker should automatically use the WSL2 backend. That was at least the case for me. If it wasnâ€™t for you, then please follow thisÂ <a href="https://docs.docker.com/docker-for-windows/wsl/"  class="external-link" target="_blank" rel="noopener">documentation</a>.</p>
<p>VS Code has of course great support for development inside WSL2 with thisÂ <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl"  class="external-link" target="_blank" rel="noopener">extension</a>. The README should be sufficient documentation.</p>
<h2 id="and-were-done-">
  <strong>And weâ€™re done ðŸŽ‰</strong>
  <a class="heading-link" href="#and-were-done-">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>With this setup you should have a full-blown development setup inside WSL2 and a nice looking Windows Terminal. I am very pleased with this setup and since the last years Microsoft keeps surprising me every time!</p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    Â©
    
      2018 -
    
    2024
     Yadullah Duman 
    Â·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="www.yduman.dev/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
